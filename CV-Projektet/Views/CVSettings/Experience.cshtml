@model CVDetails
@using Microsoft.AspNetCore.Identity
@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager

@try
{
	<h2 class="education">Utbildningar</h2>
	@if (Model.ExperienceList.Where(e => e.Type.Equals("Education")).Any())
	{
		@foreach (var item in Model.ExperienceList)
		{
			if (item.Type.Equals("Education"))
			{
				<h3>@item.Title</h3>
				<p>@item.StartDate.ToString().Substring(0, 10) - @item.EndDate.ToString().Substring(0, 10)</p>
				<p>@item.Place, @item.City</p>
				<p>@item.Description</p>
				<form asp-controller="CVSettings" asp-action="DeleteExperience">
					<input type="hidden" asp-for="@item.ID" name="id" />
					<input type="submit" value="Radera" class="btn btn-dark" />
				</form>
				<br />
			}
		}
	}
	else
	{
		<p>Du har inga utbildningar tillagda. Lägg till fler nedan.</p>
	}
	<h2 class="work">Arbetslivserfarenheter</h2>
	@if (Model.ExperienceList.Where(e => e.Type.Equals("Work")).Any())
	{
		@foreach (var item in Model.ExperienceList)
		{
			if (item.Type.Equals("Work"))
			{
				<h3>@item.Title</h3>
				<p>@item.StartDate.ToString().Substring(0, 10) - @item.EndDate.ToString().Substring(0, 10)</p>
				<p>@item.Place , @item.City</p>
				<p>@item.Description</p>
				<form asp-controller="CVSettings" asp-action="DeleteExperience">
					<input type="hidden" asp-for="@item.ID" name="id" />
					<input type="submit" value="Radera" class="btn btn-dark" />
				</form>
				<br />
			}
		}
	}
	else
	{
		<p>Du har inga arbeten tillagda. Lägg till fler nedan.</p>
	}
	<h2 class="course">Kurser</h2>
	@if (Model.ExperienceList.Where(e => e.Type.Equals("Course")).Any())
	{
		@foreach (var item in Model.ExperienceList)
		{
			if (item.Type.Equals("Course"))
			{
				<h3>@item.Title</h3>
				<p>@item.StartDate.ToString().Substring(0, 10) - @item.EndDate.ToString().Substring(0, 10)</p>
				<p>@item.Place , @item.City</p>
				<p>@item.Description</p>
				<form asp-controller="CVSettings" asp-action="DeleteExperience">
					<input type="hidden" asp-for="@item.ID" name="id" />
					<input type="submit" value="Radera" class="btn btn-dark" />
				</form>
				<br />
			}

		}
	}
	else
	{
		<p>Du har inga kurser tillagda. Lägg till fler nedan.</p>
	}
	<h2 class="misc">Övrigt</h2>
	@if (Model.ExperienceList.Where(e => e.Type.Equals("Misc")).Any())
	{
		@foreach (var item in Model.ExperienceList)
		{
			@if (item.Type.Equals("Misc"))
			{
				<h3>@item.Title</h3>
				<p>@item.StartDate.ToString().Substring(0, 10) - @item.EndDate.ToString().Substring(0, 10)</p>
				<p>@item.Place , @item.City</p>
				<p>@item.Description</p>
				<form asp-controller="CVSettings" asp-action="DeleteExperience">
					<input type="hidden" asp-for="@item.ID" name="id" />
					<input type="submit" value="Radera" class="btn btn-dark" />
				</form>
				<br />
			}

		}
	}
	else
	{
		<p>Du har inga övriga erfarenheter tillagda. Lägg till fler nedan.</p>
	}
}
catch (Exception ex) { }
<form id="SettingsCV" method="post" asp-controller="CVSettings" asp-action="AddExperience">

	<h3>Lägg till en ny erfarenhet:</h3>
	<div class="col-sm-2">
		<label>Namn: </label>
	</div>
	<div class="col-sm-4">
		<input class="SettingsCV" name="Title" />
	</div>
	<div class="col-sm-2">
		<label>Erfarenhetstyp: </label>
	</div>
	<div class="col-sm-4">
		<select class="SettingsCV" name="Type">
			<option value="Education">Utbildning</option>
			<option value="Work">Arbete</option>
			<option value="Course">Kurs</option>
			<option value="Misc">Övrigt</option>
			<select />
	</div>
	<div class="col-sm-2">
		<label>Startdatum: </label>
	</div>
	<div class="col-sm-4">
		<input type="date" id="" name="StartDate">
	</div>
	<div class="col-sm-2">
		<label>Slutddatum: </label>
	</div>
	<div class="col-sm-4">
		<input type="date" id="" name="EndDate">
	</div>
	<div class="col-sm-2">
		<label>Stad: </label>
	</div>
	<div class="col-sm-4">
		<input class="SettingsCV" name="City" />
	</div>
	<div class="col-sm-2">
		<label>Plats: </label>
	</div>
	<div class="col-sm-4">
		<input class="SettingsCV" name="Place" />
	</div>
	<div class="col-sm-2">
		<label>Beskrivning: </label>
	</div>
	<div class="col-sm-4">
		<input class="SettingsCV" name="Description" />
	</div>
	<br />
	<br />
	<input type="submit" value="Spara" class="btn btn-dark">
</form>
<p>@Model.ErrorMessage</p>