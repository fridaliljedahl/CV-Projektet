@using Microsoft.AspNetCore.Identity
@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager
@model UserRegistrationViewModel

@{
	var user = UserManager.GetUserAsync(User);
}

<h2 class="accentWord">Inställningar</h2>
<br />
<form class="formRegister" method="post" asp-controller="ProfileSettings" asp-action="Edit">
	<div class="inputRow">
		<label>Username:</label>
		<input asp-for="UserName" class="userInput" />
		@try
		{
			@if (string.IsNullOrWhiteSpace(Model.returnedErrorMessage))
			{
						<span asp-validation-for="UserName" class="text-danger"></span>
			}
			else
			{
						<p class="text-danger">@Model.returnedErrorMessage</p>
			}
		}
		catch (Exception ex) { }
	</div>
	<div class="inputRow">
		<label>First name:</label>
		<input asp-for="FirstName" class="userInput"/>
		<span asp-validation-for="FirstName" class="text-danger"></span>
	</div>
	<div class="inputRow">
		<label>Last name:</label>
		<input asp-for="LastName" class="userInput" />
		<span asp-validation-for="LastName" class="text-danger"></span>
	</div>
	<div class="inputRow">
		<label>Describe yourself:</label>
		<textarea class="myDescriptionInput userInput" asp-for="Description"></textarea>
		<span asp-validation-for="Description" class="text-danger"></span>
	</div>
	<div class="inputRow">
		<label>Phone number:</label>
		<input asp-for="PhoneNumber" class="userInput" />
		<span asp-validation-for="PhoneNumber" class="text-danger"></span>
	</div>
	<div class="inputRow">
		<label>Email:</label>
		<input type="email" asp-for="Email" class="userInput" />
		<span asp-validation-for="Email" class="text-danger"></span>
	</div>

	<div class="inputRow">
		<label>Street name:</label>
		<input asp-for="Street" class="userInput" />
		<span asp-validation-for="Street" class="text-danger"></span>
	</div>
	<div class="inputRow">
		<label>Postal code:</label>
		<input type="text" asp-for="PostalCode" class="userInput" />
		<span asp-validation-for="PostalCode" class="text-danger"></span>
	</div>
	<div class="inputRow">
		<label>City:</label>
		<input asp-for="City" class="userInput" />
		<span asp-validation-for="City" class="text-danger"></span>
	</div>

	<div class="inputRow">
		<label>Public profile:</label>
		<input type="checkbox" class="checkbox" asp-for="IsPublic" />
	</div>

	<button type="submit" class="btn-dark btn btnRegister">Spara</button>

</form>

<br />
<br />
<a asp-area="" asp-controller="ChangePassword" asp-action="Index">Ändra lösenord</a>